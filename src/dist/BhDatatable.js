!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BhDatatable=t():e.BhDatatable=t()}(this,function(){return function(e){function t(o){if(a[o])return a[o].exports;var n=a[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){e.exports=a(31)},31:function(e,t,a){var o,n,r={};o=a(32),n=a(36),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(c.template=n),c.computed||(c.computed={}),Object.keys(r).forEach(function(e){var t=r[e];c.computed[e]=function(){return t}})},32:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(33),r=o(n),c=34,i=["id","width","height","showHeader","checkable","pageable","enableBrowserSelection","selectionMode","pagerMode","pageNumberField","pageSizeField","sortable","reorder","resize","url","contentType","localdata","root","columns","queryType","queryParams","operations","callbacks","colHasMinWidth"],l=["id","checkable","pageNumberField","pageSizeField","reorder","resize","url","contentType","localdata","root","queryType","queryParams","operations","callbacks","colHasMinWidth"],d={colHasMinWidth:!0},s=function(e){var t=$.extend({},d),a=e.options?$.extend(t,e.options):t;return $.extend(a,i.reduce(function(t,o){return t[o]=void 0!==a[o]?a[o]:e[o],t},{}))},u=function(e){if(!e||!e.columns)return e;var t=e.columns;t.forEach(function(e){var t=e.cellsRenderer;e.cellsRenderer=function(e){return function(t,a,o,n){var r=o;return o&&"string"==typeof o&&(r=o.replace(/</g,"&lt;").replace(/>/g,"&gt;")),e&&(r=e(t,a,r,n)),"number"==typeof r&&(r+=""),r}}(t)})},p=function(e){var t=e.opts,a=t.callbacks,o={dataType:"json",type:t.queryType,id:t.id};return t.url?(o.url=t.url,o.root=t.root):o.localdata=e.localdata||t.localdata||[],new $.jqx.dataAdapter(o,{contentType:t.contentType,formatData:function(e){return t.pageable&&(e[t.pageNumberField]=e.pagenum+1,e[t.pageSizeField]=e.pagesize),"pagenum"!==t.pageNumberField&&delete e.pagenum,"pagesize"!==t.pageSizeField&&delete e.pagesize,$.extend(e,t.queryParams),(0,r.default)(e)},beforeSend:function(e){a&&a.beforeSend&&a.beforeSend(e)},downloadComplete:function(e,t,n){a&&a.downloadComplete&&a.downloadComplete(e,t,o)},loadError:function(e,t,o){throw a&&a.loadError&&a.loadError(t,o),new Error("loadError:"+o.toString())}})},h=function(e){var t=$(e.$el),a=e.opts;return{text:"checkbox",dataField:"checkbox",width:c+"px",renderer:function(e,t,a){var o='<div class="selectAllCheckboxFlag bh-checkbox bh-mh-8"><label><input type="checkbox" value=""><i class="bh-choice-helper"></i></label>';return o},rendered:function(e,a,o){var n=this;return e.on("click","input",function(e){var a=t.find("table"),o=a.find("div.bh-checkbox"),r=$(n);r.hasClass("selectFlag")?(r.prop("checked",!1).removeClass("selectFlag"),o.each(function(){$(this).find("input").prop("checked",!1)})):(r.prop("checked",!0).addClass("selectFlag"),o.each(function(){$(this).find("input").prop("checked",!0)})),e.stopPropagation()}),!0},cellsRenderer:function(e,t,o,n){var r='<div class="bh-checkbox"><label><input type="checkbox" @checked value="" data-id="@dataId" data-row=@dataRow><i class="bh-choice-helper"></i></label>';return r=r.replace("@dataId",n[a.id]).replace("@dataRow",e),r=n.checkbox?r.replace("@checked","checked"):r.replace("@checked","")}}},f=function(e,t){if(!e.hasClass("selectAllCheckboxFlag")){var a=t.find("div.selectAllCheckboxFlag").find("input"),o=t.find("table"),n=o.find("div.bh-checkbox");if(e.prop("checked")){var r=!0;n.find("input").each(function(){$(this).prop("checked")||(r=!1)}),r?a.prop("checked",!0).addClass("selectFlag"):a.prop("checked",!1).removeClass("selectFlag")}else a.prop("checked",!1).removeClass("selectFlag")}},b=function(e,t){return"button"===t.type?"<button data-name='"+t.name+"' data-row='"+e+"' class='opt-button'> style='padding: 0 5px;'"+t.title+"</button>":"<a href='javascript:void(0)' data-name='"+t.name+"' data-row='"+e+"' class='opt-button' style='padding: 0 5px;'>"+t.title+"</a>"},g=function(e){var t=e.opts,a=t.operations,o=a.title;return{width:a.width,text:o,cellsAlign:"center",align:"center",columnType:"none",editable:!1,sortable:!1,dataField:null,cellsRenderer:function(e,t,o){var n=a.items,r="";return $.each(n,function(t,a){r+=b(e,a)}),r}}},k=function(e){return e.jqxDataTable("getSelection")},v=function(e){return e.jqxDataTable("getRows")},y=function(e){var t=e.opts;t.checkable&&$(e.$el).find("div.bh-checkbox input[data-id]").each(function(){var t=$(this);t[0].checked=$.inArray(t.attr("data-id"),e.checkedIds)>-1})},x=null;t.default={data:function(){return{checkedIds:[],opts:{}}},props:{id:{default:"id"},options:Object,width:{default:"100%"},height:{default:"auto"},showHeader:{default:!0,type:Boolean},checkable:{default:!1,type:Boolean},pageable:{default:!0,type:Boolean},pageNumberField:{default:"pageNumber"},pageSizeField:{default:"pageSize"},sortable:{default:!0,type:Boolean},reorder:{default:!1,type:Boolean},resize:{default:!1,type:Boolean},url:String,localdata:Array,root:String,columns:Array,contentType:{default:"application/json",type:String},queryType:{default:"GET",type:String},enableBrowserSelection:{default:!0},selectionMode:{default:"singleRow"},pagerMode:{type:String,default:"advanced"},queryParams:Object,selectedRows:Array,checkedRows:Array,operations:Object,callbacks:{type:Object,default:function(){return{}}}},methods:{render:function(){$(this.$el).jqxDataTable("render")},reload:function(){$(this.$el).jqxDataTable("source",p(this))},refresh:function(){$(this.$el).jqxDataTable("refresh")},getTotalRecords:function(){return $(this.$el).jqxDataTable("getRows")},getRowById:function(e){for(var t=this.opts,a=t.id,o=this.getTotalRecords(),n=0,r=o.length;n<r;n++)if(o[n][a]==e)return o[n];return null},getChecked:function(){return this.checkedRows},setChecked:function(e,t){this.checkedRows=$.extend(!0,[],e);var a=this.checkedIds=[];$.each(e,function(e,o){return a.push(o[t])}),y(this)},selectRow:function(e){var t=$(this.$el);t.jqxDataTable("selectRow",e)},addRow:function(e){$(this.$el).jqxDataTable("addRow",null,e)},deleteRowById:function(e){var t=this.opts,a=t.id,o=$(this.$el),n=v(o);$.each(n,function(t,n){if(n[a]==e)return o.jqxDataTable("deleteRow",t),!1})},deleteByRowNum:function(e){$(this.$el).jqxDataTable("deleteRow",e)},checkById:function(e){var t=this,a=(t.opts,t.getRowById(e));return a?void($.inArray(e,t.checkedIds)>-1||(t.checkedRows.push(a),t.checkedIds.push(e),t.$dispatch("check-change",!0,a))):null},uncheckById:function(e){var t=this,a=t.opts,o=a.id;if($.inArray(e,t.checkedIds)===-1){var n={};return n[o]=e,void t.$dispatch("check-change",!1,n)}$.each(t.checkedRows,function(a,n){if(n[o]==e){var r=t.checkedRows.splice(a,1)[0];return t.checkedIds.splice(a,1),y(t),t.$dispatch("check-change",!1,r),!1}})},clear:function(){var e=$(this.$el);e.jqxDataTable("clear")}},ready:function(){x||"undefined"==typeof Globalize||(x=Globalize.culture("zh-CN"));var e=this,t=e.opts=s(e);u(t);var a=$(e.$el);t.checkable&&t.columns.unshift(h(e)),t.operations&&t.operations.items&&t.operations.items.length>0&&t.columns.push(g(e));var o=$.extend({},t,{columnsReorder:t.reorder,columnsResize:t.resize,serverProcessing:!0,source:p(e),localization:x,rendered:function(){y(e),a.find(".jqx-grid-cell").each(function(){var e=$(this);e.attr("title",e.text())}),e.$dispatch("rendered")},ready:function(){var o=a,n=o.find("table");if(t.checkable){var r=n.find("div.bh-checkbox"),c=!0;r.each(function(){var e=$(this);if(0===e.find("input[checked]").length)return c=!1,!1});var i=o.find("div.selectAllCheckboxFlag").find("input");c?i.prop("checked",!0).addClass("selectFlag"):i.prop("checked",!1).removeClass("selectFlag"),a.on("click","div.bh-checkbox",function(t){var o=$(t.currentTarget).find("input"),n=o.data("id")+"",r=o[0].checked;f($(this).find("input"),a),r?e.checkById(n):e.uncheckById(n)})}e.selectedRows=k(a),a.on("rowSelect",function(t){e.selectedRows=k(a),e.$dispatch("row-select",e.selectedRows)}),a.on("click",".opt-button",function(){var t=$(this),o=t.attr("data-row"),n=t.attr("data-name"),r=v(a);e.$dispatch(n,r[o],parseInt(o))}),e.$dispatch("ready")}});l.forEach(function(e){delete o[e]}),e.jqxObj=a.jqxDataTable(o)},destory:function(){var e=$(this.$el);e.off("click","div.bh-checkbox"),e.off("rowSelect"),e.off("click",".opt-button"),e.jqxDataTable("destroy")}}},33:function(e,t,a){e.exports={default:a(34),__esModule:!0}},34:function(e,t,a){var o=a(35),n=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},35:function(e,t){var a=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)},36:function(e,t){e.exports=" <div class=bh-datatable></div> "}})});