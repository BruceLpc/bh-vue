!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BhDatatable=t():e.BhDatatable=t()}(this,function(){return function(e){function t(o){if(a[o])return a[o].exports;var n=a[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}({0:function(e,t,a){e.exports=a(31)},31:function(e,t,a){var o,n,c={};o=a(32),n=a(36),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports.default);var r="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(r.template=n),r.computed||(r.computed={}),Object.keys(c).forEach(function(e){var t=c[e];r.computed[e]=function(){return t}})},32:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(33),c=o(n),r=34,i=["id","width","height","showHeader","checkable","pageable","enableBrowserSelection","selectionMode","pagerMode","pageNumberField","pageSizeField","sortable","reorder","resize","url","contentType","localdata","root","columns","queryType","queryParams","operations","callbacks"],l=["id","checkable","pageNumberField","pageSizeField","reorder","resize","url","contentType","localdata","root","queryType","queryParams","operations","callbacks"],d=function(e){var t=e.options||{};return $.extend(t,i.reduce(function(a,o){return a[o]=void 0!==t[o]?t[o]:e[o],a},{}))},s=function(e){var t=e.opts,a=t.callbacks,o={dataType:"json",type:t.queryType,id:t.id};return t.url?(o.url=t.url,o.root=t.root):o.localdata=t.localdata||[],new $.jqx.dataAdapter(o,{contentType:t.contentType,formatData:function(e){return t.pageable&&(e[t.pageNumberField]=e.pagenum+1,e[t.pageSizeField]=e.pagesize),"pagenum"!==t.pageNumberField&&delete e.pagenum,"pagesize"!==t.pageSizeField&&delete e.pagesize,$.extend(e,t.queryParams),(0,c.default)(e)},beforeSend:function(e){a&&a.beforeSend&&a.beforeSend(e)},downloadComplete:function(e,t,n){a&&a.downloadComplete&&a.downloadComplete(e,t,o)},loadError:function(e,t,o){throw a&&a.loadError&&a.loadError(t,o),new Error("loadError:"+o.toString())}})},u=function(e){var t=$(e.$el),a=e.opts;return{text:"checkbox",dataField:"checkbox",width:r+"px",renderer:function(e,t,a){var o='<div class="selectAllCheckboxFlag bh-checkbox bh-mh-8"><label><input type="checkbox" value=""><i class="bh-choice-helper"></i></label>';return o},rendered:function(e,a,o){var n=this;return e.on("click","input",function(e){var a=t.find("table"),o=a.find("div.bh-checkbox"),c=$(n);c.hasClass("selectFlag")?(c.prop("checked",!1).removeClass("selectFlag"),o.each(function(){$(this).find("input").prop("checked",!1)})):(c.prop("checked",!0).addClass("selectFlag"),o.each(function(){$(this).find("input").prop("checked",!0)})),e.stopPropagation()}),!0},cellsRenderer:function(e,t,o,n){var c='<div class="bh-checkbox"><label><input type="checkbox" @checked value="" data-id="@dataId" data-row=@dataRow><i class="bh-choice-helper"></i></label>';return c=c.replace("@dataId",n[a.id]).replace("@dataRow",e),c=n.checkbox?c.replace("@checked","checked"):c.replace("@checked","")}}},p=function(e,t){if(!e.hasClass("selectAllCheckboxFlag")){var a=t.find("div.selectAllCheckboxFlag").find("input"),o=t.find("table"),n=o.find("div.bh-checkbox");if(e.prop("checked")){var c=!0;n.find("input").each(function(){$(this).prop("checked")||(c=!1)}),c?a.prop("checked",!0).addClass("selectFlag"):a.prop("checked",!1).removeClass("selectFlag")}else a.prop("checked",!1).removeClass("selectFlag")}},h=function(e,t){return"button"===t.type?"<button data-name='"+t.name+"' data-row='"+e+"' class='opt-button'> style='padding: 0 5px;'"+t.title+"</button>":"<a href='javascript:void(0)' data-name='"+t.name+"' data-row='"+e+"' class='opt-button' style='padding: 0 5px;'>"+t.title+"</a>"},f=function(e){var t=e.opts,a=t.operations,o=a.title;return{width:a.width,text:o,cellsAlign:"center",align:"center",columnType:"none",editable:!1,sortable:!1,dataField:null,cellsRenderer:function(e,t,o){var n=a.items,c="";return $.each(n,function(t,a){c+=h(e,a)}),c}}},b=function(e){return e.jqxDataTable("getSelection")},k=function(e){return e.jqxDataTable("getRows")},g=function(e){var t=e.opts;t.checkable&&$(e.$el).find("div.bh-checkbox input[data-id]").each(function(){var t=$(this);t[0].checked=$.inArray(t.attr("data-id"),e.checkedIds)>-1})},y=null;t.default={data:function(){return{checkedIds:[],opts:{}}},props:{id:{default:"id"},options:Object,width:{default:"100%"},height:{default:"auto"},showHeader:{default:!0,type:Boolean},checkable:{default:!1,type:Boolean},pageable:{default:!0,type:Boolean},pageNumberField:{default:"pageNumber"},pageSizeField:{default:"pageSize"},sortable:{default:!0,type:Boolean},reorder:{default:!1,type:Boolean},resize:{default:!1,type:Boolean},url:String,localdata:Array,root:String,columns:Array,contentType:{default:"application/json",type:String},queryType:{default:"GET",type:String},enableBrowserSelection:{default:!0},selectionMode:{default:"singleRow"},pagerMode:{type:String,default:"advanced"},queryParams:Object,selectedRows:Array,checkedRows:Array,operations:Object,callbacks:{type:Object,default:function(){return{}}}},methods:{render:function(){$(this.$el).jqxDataTable("render")},reload:function(){$(this.$el).jqxDataTable("source",s(this))},refresh:function(){$(this.$el).jqxDataTable("refresh")},getTotalRecords:function(){return $(this.$el).jqxDataTable("getRows")},getRowById:function(e){for(var t=this.opts,a=t.id,o=this.getTotalRecords(),n=0,c=o.length;n<c;n++)if(o[n][a]==e)return o[n];return null},getChecked:function(){return this.checkedRows},setChecked:function(e,t){this.checkedRows=$.extend(!0,[],e);var a=this.checkedIds=[];$.each(e,function(e,o){return a.push(o[t])}),g(this)},selectRow:function(e){var t=$(this.$el);t.jqxDataTable("selectRow",e)},addRow:function(e){$(this.$el).jqxDataTable("addRow",null,e)},deleteRowById:function(e){var t=this.opts,a=t.id,o=$(this.$el),n=k(o);$.each(n,function(t,n){if(n[a]==e)return o.jqxDataTable("deleteRow",t),!1})},deleteByRowNum:function(e){$(this.$el).jqxDataTable("deleteRow",e)},checkById:function(e){var t=this,a=(t.opts,t.getRowById(e));return a?void($.inArray(e,t.checkedIds)>-1||(t.checkedRows.push(a),t.checkedIds.push(e),t.$dispatch("check-change",!0,a))):null},uncheckById:function(e){var t=this,a=t.opts,o=a.id;if($.inArray(e,t.checkedIds)===-1){var n={};return n[o]=e,void t.$dispatch("check-change",!1,n)}$.each(t.checkedRows,function(a,n){if(n[o]==e){var c=t.checkedRows.splice(a,1)[0];return t.checkedIds.splice(a,1),g(t),t.$dispatch("check-change",!1,c),!1}})},clear:function(){var e=$(this.$el);e.jqxDataTable("clear")}},ready:function(){y||"undefined"==typeof Globalize||(y=Globalize.culture("zh-CN"));var e=this,t=e.opts=d(e),a=$(e.$el);t.checkable&&t.columns.unshift(u(e)),t.operations&&t.operations.items&&t.operations.items.length>0&&t.columns.push(f(e));var o=$.extend({},t,{columnsReorder:t.reorder,columnsResize:t.resize,serverProcessing:!0,source:s(e),localization:y,rendered:function(){g(e),a.find(".jqx-grid-cell").each(function(){var e=$(this);e.attr("title",e.text())}),e.$dispatch("rendered")},ready:function(){var o=a,n=o.find("table");if(t.checkable){var c=n.find("div.bh-checkbox"),r=!0;c.each(function(){var e=$(this);if(0===e.find("input[checked]").length)return r=!1,!1});var i=o.find("div.selectAllCheckboxFlag").find("input");r?i.prop("checked",!0).addClass("selectFlag"):i.prop("checked",!1).removeClass("selectFlag"),a.on("click","div.bh-checkbox",function(t){var o=$(t.currentTarget).find("input"),n=o.data("id")+"",c=o[0].checked;p($(this).find("input"),a),c?e.checkById(n):e.uncheckById(n)})}e.selectedRows=b(a),a.on("rowSelect",function(t){e.selectedRows=b(a),e.$dispatch("row-select",e.selectedRows)}),a.on("click",".opt-button",function(){var t=$(this),o=t.attr("data-row"),n=t.attr("data-name"),c=k(a);e.$dispatch(n,c[o],parseInt(o))}),e.$dispatch("ready")}});l.forEach(function(e){delete o[e]}),e.jqxObj=a.jqxDataTable(o)},destory:function(){var e=$(this.$el);e.off("click","div.bh-checkbox"),e.off("rowSelect"),e.off("click",".opt-button"),e.jqxDataTable("destroy")}}},33:function(e,t,a){e.exports={default:a(34),__esModule:!0}},34:function(e,t,a){var o=a(35),n=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},35:function(e,t){var a=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)},36:function(e,t){e.exports=" <div class=bh-datatable></div> "}})});